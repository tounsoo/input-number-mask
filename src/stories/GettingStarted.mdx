import { Meta, ArgTypes } from '@storybook/addon-docs/blocks';
import { 
  HookOptions, 
  HookReturn, 
  ComponentProps,
  ContentEditableHookOptions,
  ContentEditableHookReturn,
  ContentEditableComponentProps
} from './HookAPI';
import { InputNumberMask } from '../component/InputNumberMask';
import { InputNumberMaskContentEditable } from '../component/InputNumberMaskContentEditable';

<Meta title="Getting Started" />

# @tounsoo/input-number-mask

A lightweight, dependency-free React library for masking input values. It provides both standard input masking and advanced `contenteditable` support.

## Installation

```bash
npm install @tounsoo/input-number-mask
# or
pnpm add @tounsoo/input-number-mask
```

---

## üèóÔ∏è Components

Components provide an easy, out-of-the-box solution with built-in styling and accessibility.

### 1. InputNumberMask (Standard)

The primary component for standard text inputs.

```tsx
import { InputNumberMask } from '@tounsoo/input-number-mask';

<InputNumberMask
  template="(ddd) ddd-dddd"
  placeholder="(___) ___-____"
  onValueChange={(val) => console.log(val)}
/>
```

#### Props
Extends `HTMLAttributes<HTMLInputElement>`
<ArgTypes of={ComponentProps} />

### 2. InputNumberMaskContentEditable (Advanced)

Recommended for rich-text scenarios or when you need the CSS Highlight API for custom placeholder colors.

```tsx
import { InputNumberMaskContentEditable } from '@tounsoo/input-number-mask';

<InputNumberMaskContentEditable
  template="dd/dd/dddd"
  placeholder="mm/dd/yyyy"
  placeholderColor="#00ff00"
  onValueChange={(val) => console.log(val)}
/>
```

#### Props
Extends `HTMLAttributes<HTMLDivElement>`
<ArgTypes of={ContentEditableComponentProps} />

---

## ü™ù Hooks

Hooks provide low-level access for custom input implementations.

### 1. useInputNumberMask

For standard `HTMLInputElement` elements.

```tsx
import { useInputNumberMask } from '@tounsoo/input-number-mask';

const { ref, value } = useInputNumberMask({
  template: '(ddd) ddd-dddd',
});

return <input ref={ref} value={value} onChange={() => {}} />;
```

#### Options
<ArgTypes of={HookOptions} />

#### Return Values
<ArgTypes of={HookReturn} />

### 2. useContentEditableMask

Specifically designed for `contenteditable` elements.

```tsx
import { useContentEditableMask } from '@tounsoo/input-number-mask';

const { ref, value } = useContentEditableMask({
  template: 'dd/dd/dddd',
});

return <div ref={ref} contentEditable suppressContentEditableWarning />;
```

#### Options
<ArgTypes of={ContentEditableHookOptions} />

#### Return Values
<ArgTypes of={ContentEditableHookReturn} />

---

## üìù Form Submission

Both components support the `name` prop and `returnRawValue` option for easy integration with native forms.

```tsx
const Form = () => {
  const handleSubmit = (e) => {
    e.preventDefault();
    const data = new FormData(e.target);
    console.log('Raw Value:', data.get('phone')); // e.g. "1234567890"
  };

  return (
    <form onSubmit={handleSubmit}>
      <InputNumberMask
        name="phone"
        template="(ddd) ddd-dddd"
        returnRawValue={true}
      />
      <button type="submit">Submit</button>
    </form>
  );
};
```
