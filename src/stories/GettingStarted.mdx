import { Meta, ArgTypes } from '@storybook/addon-docs/blocks';
import { HookOptions, HookReturn, ComponentProps } from './HookAPI';
import { InputNumberMask } from '../component/InputNumberMask';

<Meta title="Getting Started" />

# @tounsoo/input-number-mask

A lightweight, dependency-free React hook and component for masking input values.

## Installation

```bash
npm install @tounsoo/input-number-mask
# or
pnpm add @tounsoo/input-number-mask
```

## Component Usage

The simplest way to use the library is with the `InputNumberMask` component.

```tsx
import { InputNumberMask } from '@tounsoo/input-number-mask';

const MyForm = () => {
  return (
    <InputNumberMask
      template="(ddd) ddd-dddd"
      placeholder="(___) ___-____"
      onValueChange={(val) => console.log('Value:', val)}
    />
  );
};
```

### Props

<ArgTypes of={ComponentProps} />

## Hook Usage

```tsx
import { useInputNumberMask } from '@tounsoo/input-number-mask';

const PhoneInput = () => {
  const { ref, value } = useInputNumberMask({
    template: '(ddd) ddd-dddd',
    placeholder: '(___) ___-____',
  });

  return (
    <input
      ref={ref}
      value={value}
      onChange={() => {}}
    />
  );
};
```

## Options

<ArgTypes of={HookOptions} />

## Return Values

<ArgTypes of={HookReturn} />

## Examples

### Credit Card

```tsx
const { ref, value } = useInputNumberMask({
  template: 'dddd-dddd-dddd-dddd',
  placeholder: '####-####-####-####',
});
```

### Date

```tsx
const { ref, value } = useInputNumberMask({
  template: 'dd/dd/dddd',
  placeholder: 'mm/dd/yyyy',
});
```

### Phone with Keep Position

```tsx
const { ref, value } = useInputNumberMask({
  template: '+1 (ddd) ddd-dddd',
  placeholder: '+1 (___) ___-____',
  keepPosition: true, // Deletion preserves structure
});
```

## Form Submission

Use `rawValue` for form submission to get unmasked digits:

```tsx
const Form = () => {
  const { ref, value, rawValue } = useInputNumberMask({
    template: '(ddd) ddd-dddd',
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log('Raw phone:', rawValue); // "1234567890"
  };

  return (
    <form onSubmit={handleSubmit}>
      <input ref={ref} value={value} onChange={() => {}} />
      <input type="hidden" name="phone" value={rawValue} />
      <button type="submit">Submit</button>
    </form>
  );
};
```

## InputNumberMaskContentEditable

For advanced masking with `contentEditable` support (useful for specific styling or behavior requirements), use:

```tsx
import { InputNumberMaskContentEditable } from '@tounsoo/input-number-mask';

<InputNumberMaskContentEditable
  template="(ddd) ddd-dddd"
  placeholder="(___) ___-____"
  placeholderColor="gray" // or any CSS color
  onValueChange={(val) => console.log(val)}
/>
```

It supports similar props to `InputNumberMask` plus `placeholderColor`.
